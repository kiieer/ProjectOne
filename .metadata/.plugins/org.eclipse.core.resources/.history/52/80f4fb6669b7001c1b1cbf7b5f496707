var url = "http://localhost:8080/"

async function loginFunction(username, pass) {
	let username1 = { username: username, pass: pass};
	
	alert("TESTTESTESTSET")
	
	let response = await fetch(url + 'login', {
		method: 'POST',
		headers: {'Content-Type': 'application/json'},
		body: JSON.stringify(username1)});
		let result = await response.json();
		console.log(result.username);
		if (result.username === null) {
			alert("Resubmit")
			wrongInput()
			}
			else {
				alert("Functional")
			}
	}

function getInput() {
	alert("I work, but the code is broken.")
	let username = document.getElementById("user").value
	let password = document.getElementById("pass").value
	loginFunction(username, pass);
}


function wrongInput() {
    var element = document.querySelector('#alert');
    var copy = element.cloneNode(true);
    copy.id = 'loginalert';
    copy.className = 'alert alert-danger';
    copy.innerHTML = '<h3><i>Alert: login was unsuccessful. Try again.</i></h3>';
    element.replaceWith(copy);
}
